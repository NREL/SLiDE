# STRUGGLING. Multiple types of regions in one column.

Path:  ["..", "data", "datasources", "CFS"]
PathOut: ["..", "data", "coremaps", "cfs_area.csv"]

XLSXInput:
  name:  cfs_2012_pum_file_users_guide_App_A (Jun 2015).xlsx
  sheet: App A1
  range: A3:E136
  descriptor: area

Order:
  - {col: state_code, type: String}
  - {col: area_code,  type: String}
  - {col: full_code,  type: String}
  - {col: full_desc,  type: String}
  - {col: type,       type: String}

Rename:
  - from:   DEST_MA
    to:     code
  - from:   DEST_STATE
    to:     state_code
  - from:   DEST_CFS_AREA
    to:     full_code
  - from:   missing
    to:     full_desc
  - from:   Type
    to:     type

# Map:
#   file:   regions.csv
#   from:   from
#   to:     to
#   input:  state
#   output: state

# Split:
#   on:     CFS Area
#   input:  desc
#   output: ma_desc
#   remove: true

Replace:
  - col:  type
    from: [C, M]
    to:   [csa, cbsa]