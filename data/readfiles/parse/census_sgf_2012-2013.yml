# Autogenerated from generate_yaml.xlsx
Complete: true

Path: ["..", "data", "datasources", "SGF"]

PathOut: ["..", "data", "output", "sgf_2012-2013.csv"]

CSVInput:
  - {name: SGF_2012_SGF001.csv, descriptor: 2012}
  - {name: SGF_2013_SGF003.csv, descriptor: 2013}

Describe:
  col: year

Order:
  - {col: year,      type: Int}
  - {col: state,     type: String}
  - {col: sgf_windc, type: String}
  - {col: units,     type: String}
  - {col: value,     type: Float64}

Rename:
  - {from: GEO.display-label, to: state}

Melt:
  on:  state
  var: sgf_desc
  val: value

Map2:
  - file:   [parse, sgf.csv]
    from:   from
    to:     [sgf_desc, sgf_windc, units]
    input:  sgf_desc
    output: [sgf_desc, sgf_windc, units]
  - file:   [parse, regions.csv]
    from:   from
    to:     to
    input:  state
    output: state

Replace:
  col:  value
  from: missing
  to:   0

Drop:
  - col: [GEO.id, GEO.id2]
    val: all
    operation: "=="
