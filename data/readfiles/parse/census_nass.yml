# Autogenerated from generate_yaml.xlsx

Path: ["..", "data", "datasources", "NASS"]

PathOut: ["..", "data", "output", "nass.csv"]

CSVInput:
  name: agcensus_2012_sales_redownload.csv
  descriptor: 2012

Order:
  - {col: year,       type: Int}
  - {col: state,      type: String}
  - {col: naics_code, type: String}
  - {col: naics_level,type: Any}
  - {col: units,      type: String}
  - {col: value,      type: Int}

Rename:
  - {from: upper,           to: lower}
  - {from: domain category, to: naics_code}

Match:
  on:     \((?<naics_code>.*)\)
  input:  naics_code
  output: naics_code

Add:
  col: units
  val: us dollars (USD)

Map2:
  - file:   [std, naics.csv]
    from:   naics_code
    to:     naics_level
    input:  naics_code
    output: naics_level
  - file:   [std, regions.csv]
    from:   from
    to:     to
    input:  state
    output: state

Replace:
  col:  value
  from: ["(D)", "(H)", "(L)"]
  to:   0
